{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "radio",
  "title": "RadioField",
  "description": "A radio group field component for BuzzForm. Supports single selection with default or card variants, horizontal/vertical direction, and multi-column grid layouts.",
  "dependencies": [
    "@buildnbuzz/buzzform"
  ],
  "registryDependencies": [
    "@buzzform/init",
    "radio-group",
    "field"
  ],
  "files": [
    {
      "path": "registry/base/fields/radio.tsx",
      "content": "\"use client\";\r\n\r\nimport type {\r\n  RadioField as RadioFieldType,\r\n  FormAdapter,\r\n} from \"@buildnbuzz/buzzform\";\r\nimport {\r\n  getSelectOptionValue,\r\n  getSelectOptionLabel,\r\n  isSelectOptionDisabled,\r\n  normalizeSelectOption,\r\n  getFieldWidthStyle,\r\n} from \"@buildnbuzz/buzzform\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\nimport {\n  Field,\n  FieldDescription,\n  FieldError,\n  FieldLabel,\n} from \"@/components/ui/field\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface RadioFieldProps {\n  field: RadioFieldType;\r\n  path: string;\r\n  form: FormAdapter;\r\n  autoFocus?: boolean;\r\n  // Computed props\r\n  fieldId: string;\r\n  label: React.ReactNode | null;\r\n  isDisabled: boolean;\r\n  isReadOnly: boolean;\r\n  error?: string;\n}\n\ntype OptionGroupVariant = \"default\" | \"card\";\ntype OptionGroupDirection = \"vertical\" | \"horizontal\";\ntype OptionGroupColumns = 1 | 2 | 3 | 4;\n\nfunction getGridColumnsClass(columns: OptionGroupColumns | undefined) {\n  if (columns === 2) return \"sm:grid-cols-2\";\n  if (columns === 3) return \"sm:grid-cols-2 md:grid-cols-3\";\n  if (columns === 4) return \"sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\";\n  return undefined;\n}\n\nfunction getOptionGroupLayoutClassName({\n  variant = \"default\",\n  direction = \"vertical\",\n  columns,\n}: {\n  variant?: OptionGroupVariant;\n  direction?: OptionGroupDirection;\n  columns?: OptionGroupColumns;\n}) {\n  const usesGridColumns = variant === \"card\" || direction === \"horizontal\";\n  const effectiveColumns = usesGridColumns ? columns : undefined;\n\n  if (!effectiveColumns || effectiveColumns === 1) {\n    if (variant === \"default\" && direction === \"horizontal\") {\n      return \"flex flex-wrap gap-x-4 gap-y-2\";\n    }\n    return \"flex flex-col gap-2\";\n  }\n\n  return cn(\"grid gap-2\", getGridColumnsClass(effectiveColumns));\n}\n\r\n/** Card size classes */\r\nconst cardSizeClasses = {\r\n  sm: \"p-2.5 sm:p-3\",\r\n  md: \"p-3 sm:p-4\",\r\n  lg: \"p-4 sm:p-5\",\r\n} as const;\r\n\r\nexport function RadioField({\r\n  field,\r\n  path,\r\n  form,\r\n  autoFocus,\r\n  fieldId,\r\n  label,\r\n  isDisabled,\r\n  isReadOnly,\r\n  error,\r\n}: RadioFieldProps) {\r\n  const value = form.watch<string>(path) ?? \"\";\r\n  const hasError = !!error;\r\n\r\n  // UI options with defaults\r\n  const variant = field.ui?.variant ?? \"default\";\n  const direction = field.ui?.direction ?? \"vertical\";\n  const columns = field.ui?.columns;\n  const cardSize = field.ui?.card?.size ?? \"md\";\n  const cardBordered = field.ui?.card?.bordered ?? true;\n\r\n  const isCardVariant = variant === \"card\";\r\n\r\n  // Get options (only static for now, async would need useEffect)\r\n  const options = Array.isArray(field.options) ? field.options : [];\r\n\r\n  const handleChange = (val: unknown) => {\r\n    if (isReadOnly) return;\r\n    if (typeof val === \"string\") {\r\n      form.setValue(path, val, {\r\n        shouldDirty: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const layoutClasses = getOptionGroupLayoutClassName({\n    variant,\n    direction,\n    columns,\n  });\n\r\n  return (\r\n    <div\r\n      className={cn(\"flex flex-col gap-2\", field.style?.className)}\r\n      data-invalid={hasError}\r\n      data-readonly={isReadOnly}\r\n      style={getFieldWidthStyle(field.style)}\r\n    >\r\n      {/* Label */}\r\n      {label && (\r\n        <FieldLabel htmlFor={`${fieldId}-0`}>\r\n          {field.required && <span className=\"text-destructive\">*</span>}\r\n          {label}\r\n        </FieldLabel>\r\n      )}\r\n\r\n      {/* Description */}\r\n      {field.description && (\r\n        <FieldDescription className=\"-mt-1 mb-1\" id={`${fieldId}-description`}>\r\n          {field.description}\r\n        </FieldDescription>\r\n      )}\r\n\r\n      {/* Radio Group */}\r\n      <RadioGroup\n        value={value}\n        onValueChange={(val) => handleChange(val)}\n        disabled={isDisabled}\n        className={layoutClasses}\n        aria-describedby={\n          field.description ? `${fieldId}-description` : undefined\n        }\n        aria-readonly={isReadOnly}\n      >\r\n        {options.map((opt, i) => {\r\n          const normalized = normalizeSelectOption(opt);\r\n          const val = getSelectOptionValue(opt);\r\n          const optLabel = getSelectOptionLabel(opt);\r\n          const optDesc = normalized.description;\r\n          const optIcon = normalized.icon;\r\n          const optDisabled = isSelectOptionDisabled(opt) || isDisabled;\r\n          const isSelected = value === val;\r\n          const id = `${fieldId}-${i}`;\r\n\r\n          // Card variant\r\n          if (isCardVariant) {\r\n            const showDescription = optDesc && cardSize !== \"sm\";\r\n\r\n            return (\r\n              <label\r\n                key={val}\r\n                htmlFor={id}\r\n                className={cn(\r\n                  // Base styles\r\n                  \"cursor-pointer transition-all duration-150 rounded-lg\",\r\n                  \"flex items-start gap-3\",\r\n                  cardSizeClasses[cardSize],\r\n                  // Border styles\r\n                  cardBordered && \"border\",\r\n                  cardBordered &&\r\n                    isSelected &&\r\n                    \"border-primary ring-1 ring-primary/20 bg-primary/5 dark:bg-primary/10\",\r\n                  cardBordered &&\r\n                    !isSelected &&\r\n                    \"border-border hover:border-foreground/20 hover:bg-accent/30\",\r\n                  // Non-bordered styles\r\n                  !cardBordered && \"hover:bg-accent/50\",\r\n                  !cardBordered && isSelected && \"bg-accent\",\r\n                  // Disabled styles\r\n                  optDisabled &&\r\n                    \"opacity-50 cursor-not-allowed pointer-events-none\",\r\n                )}\r\n                data-checked={isSelected}\r\n                data-disabled={optDisabled}\r\n              >\r\n                <RadioGroupItem\r\n                  value={val}\r\n                  id={id}\r\n                  disabled={optDisabled}\r\n                  className=\"shrink-0 mt-0.5\"\r\n                  autoFocus={autoFocus && i === 0}\r\n                />\r\n                <div className=\"flex flex-col gap-0.5 min-w-0 flex-1\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {optIcon && (\r\n                      <span className=\"shrink-0 text-muted-foreground\">\r\n                        {optIcon}\r\n                      </span>\r\n                    )}\r\n                    <span\r\n                      className={cn(\r\n                        \"font-medium\",\r\n                        cardSize === \"lg\" ? \"text-base\" : \"text-sm\",\r\n                      )}\r\n                    >\r\n                      {optLabel}\r\n                    </span>\r\n                  </div>\r\n                  {showDescription && (\r\n                    <span\r\n                      className={cn(\r\n                        \"text-muted-foreground line-clamp-2\",\r\n                        cardSize === \"lg\" ? \"text-sm\" : \"text-xs\",\r\n                      )}\r\n                    >\r\n                      {optDesc}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </label>\r\n            );\r\n          }\r\n\r\n          // Default variant\r\n          return (\r\n            <Field\r\n              key={val}\r\n              orientation=\"horizontal\"\r\n              className={cn(\r\n                \"items-center gap-2.5 space-y-0\",\r\n                optDisabled && \"opacity-50 cursor-not-allowed\",\r\n              )}\r\n            >\r\n              <RadioGroupItem\r\n                value={val}\r\n                id={id}\r\n                disabled={optDisabled}\r\n                autoFocus={autoFocus && i === 0}\r\n              />\r\n              <FieldLabel\r\n                htmlFor={id}\r\n                className={cn(\r\n                  \"font-normal cursor-pointer m-0 flex items-center gap-2 text-sm\",\r\n                  optDisabled && \"cursor-not-allowed\",\r\n                )}\r\n              >\r\n                {optIcon && (\r\n                  <span className=\"shrink-0 text-muted-foreground\">\r\n                    {optIcon}\r\n                  </span>\r\n                )}\r\n                <span>{optLabel}</span>\r\n              </FieldLabel>\r\n            </Field>\r\n          );\r\n        })}\r\n      </RadioGroup>\r\n\r\n      {/* Error */}\r\n      {error && <FieldError>{error}</FieldError>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function RadioFieldSkeleton({ field }: { field: RadioFieldType }) {\n  const label = field.label !== false ? (field.label ?? field.name) : null;\n  const variant = field.ui?.variant ?? \"default\";\n  const direction = field.ui?.direction ?? \"vertical\";\n  const columns = field.ui?.columns;\n  const cardSize = field.ui?.card?.size ?? \"md\";\n  const cardBordered = field.ui?.card?.bordered ?? true;\n\r\n  const isCardVariant = variant === \"card\";\r\n  const optionCount = Math.min(\r\n    Array.isArray(field.options) ? field.options.length : 3,\r\n    6,\r\n  );\r\n\r\n  const layoutClasses = getOptionGroupLayoutClassName({\n    variant,\n    direction,\n    columns,\n  });\n\r\n  // Card height based on size\r\n  const cardHeights = {\r\n    sm: \"h-12\",\r\n    md: \"h-16\",\r\n    lg: \"h-20\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\"flex flex-col gap-2\", field.style?.className)}\r\n      style={\r\n        field.style?.width\r\n          ? {\r\n              width:\r\n                typeof field.style.width === \"number\"\r\n                  ? `${field.style.width}px`\r\n                  : field.style.width,\r\n            }\r\n          : undefined\r\n      }\r\n    >\r\n      {/* Label skeleton */}\r\n      {label && <div className=\"h-4 w-28 animate-pulse rounded bg-muted\" />}\r\n\r\n      {/* Description skeleton */}\r\n      {field.description && (\r\n        <div className=\"h-3 w-48 animate-pulse rounded bg-muted\" />\r\n      )}\r\n\r\n      {/* Options skeleton */}\r\n      <div className={layoutClasses}>\n        {Array.from({ length: optionCount }).map((_, i) => {\r\n          if (isCardVariant) {\r\n            return (\r\n              <div\r\n                key={i}\r\n                className={cn(\r\n                  \"flex items-center gap-3 rounded-lg\",\r\n                  cardHeights[cardSize],\r\n                  cardBordered && \"border border-border p-3\",\r\n                  !cardBordered && \"bg-muted/30 p-3\",\r\n                )}\r\n              >\r\n                <div className=\"h-4 w-4 rounded-full animate-pulse bg-muted shrink-0\" />\r\n                <div className=\"flex-1 space-y-1.5\">\r\n                  <div className=\"h-4 w-20 animate-pulse rounded bg-muted\" />\r\n                  {cardSize !== \"sm\" && (\r\n                    <div className=\"h-3 w-32 animate-pulse rounded bg-muted\" />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n\r\n          // Default variant skeleton\r\n          return (\r\n            <div key={i} className=\"flex items-center gap-2.5\">\r\n              <div className=\"h-4 w-4 rounded-full animate-pulse bg-muted shrink-0\" />\r\n              <div className=\"h-4 w-20 animate-pulse rounded bg-muted\" />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/buzzform/fields/radio.tsx"
    }
  ],
  "type": "registry:ui"
}