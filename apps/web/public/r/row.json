{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "row",
  "title": "RowField",
  "description": "A horizontal layout field for BuzzForm. Organizes fields side-by-side with customizable gap, alignment (start, center, end, stretch), justify (start, center, end, between), wrapping, and responsive behavior (stacks on mobile by default).",
  "dependencies": [
    "@buildnbuzz/buzzform"
  ],
  "registryDependencies": [
    "@buzzform/init",
    "skeleton"
  ],
  "files": [
    {
      "path": "registry/base/fields/row.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport type {\r\n  Field,\r\n  RowField as RowFieldType,\r\n  FormAdapter,\r\n} from \"@buildnbuzz/buzzform\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { FieldRenderer, type FieldRegistry } from \"./render\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\n\r\nexport interface RowFieldComponentProps {\r\n  field: RowFieldType;\r\n  path: string;\r\n  form: FormAdapter;\r\n  formValues: Record<string, unknown>;\r\n  siblingData: Record<string, unknown>;\r\n  registry?: FieldRegistry;\r\n}\r\n\r\nfunction getGapClass(gap: number | string | undefined): string {\r\n  if (gap === undefined) return \"gap-4\";\r\n  if (typeof gap === \"number\") {\r\n    const gapMap: Record<number, string> = {\r\n      0: \"gap-0\",\r\n      1: \"gap-1\",\r\n      2: \"gap-2\",\r\n      3: \"gap-3\",\r\n      4: \"gap-4\",\r\n      5: \"gap-5\",\r\n      6: \"gap-6\",\r\n      8: \"gap-8\",\r\n      10: \"gap-10\",\r\n      12: \"gap-12\",\r\n    };\r\n    return gapMap[gap] || \"gap-4\";\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction getAlignClass(align: RowFieldType[\"ui\"]): string {\r\n  switch (align?.align) {\r\n    case \"start\":\r\n      return \"items-start\";\r\n    case \"center\":\r\n      return \"items-center\";\r\n    case \"end\":\r\n      return \"items-end\";\r\n    case \"stretch\":\r\n      return \"items-stretch\";\r\n    default:\r\n      return \"items-start\";\r\n  }\r\n}\r\n\r\nfunction getJustifyClass(justify: RowFieldType[\"ui\"]): string {\r\n  switch (justify?.justify) {\r\n    case \"start\":\r\n      return \"justify-start\";\r\n    case \"center\":\r\n      return \"justify-center\";\r\n    case \"end\":\r\n      return \"justify-end\";\r\n    case \"between\":\r\n      return \"justify-between\";\r\n    default:\r\n      return \"justify-start\";\r\n  }\r\n}\r\n\r\nexport function RowField({\r\n  field,\r\n  path,\r\n  form,\r\n  registry,\r\n}: RowFieldComponentProps) {\r\n  const ui = field.ui;\r\n  const responsive = ui?.responsive ?? true;\r\n  const wrap = ui?.wrap ?? false;\r\n\r\n  const gapClass = getGapClass(ui?.gap);\r\n  const alignClass = getAlignClass(ui);\r\n  const justifyClass = getJustifyClass(ui);\r\n\r\n  const gapStyle =\r\n    typeof ui?.gap === \"string\"\r\n      ? ({ \"--row-gap\": ui.gap } as React.CSSProperties)\r\n      : undefined;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex w-full\",\r\n        responsive ? \"flex-col md:flex-row\" : \"flex-row\",\r\n        gapStyle ? \"gap-(--row-gap)\" : gapClass,\r\n        alignClass,\r\n        justifyClass,\r\n        wrap && \"flex-wrap\"\r\n      )}\r\n      style={gapStyle}\r\n    >\r\n      {field.fields.map((nestedField, index) => {\r\n        const nestedFieldName =\r\n          \"name\" in nestedField ? nestedField.name : `row-item-${index}`;\r\n        const itemKey = `${nestedField.type}-${nestedFieldName}-${index}`;\r\n\r\n        const nestedPath =\r\n          \"name\" in nestedField\r\n            ? path\r\n              ? `${path}.${nestedFieldName}`\r\n              : nestedFieldName\r\n            : path;\r\n\r\n        const fieldWidth = (\r\n          nestedField as Field & { style?: { width?: string } }\r\n        ).style?.width as string | undefined;\r\n\r\n        // When row handles width, remove style.width from field to prevent double application\r\n        const fieldForRenderer = fieldWidth\r\n          ? {\r\n              ...nestedField,\r\n              style: {\r\n                ...((nestedField as Field & { style?: object }).style || {}),\r\n                width: undefined,\r\n              },\r\n            }\r\n          : nestedField;\r\n\r\n        return (\r\n          <div\r\n            key={itemKey}\r\n            className={cn(\r\n              \"min-w-0\",\r\n              responsive ? \"w-full\" : \"\",\r\n              fieldWidth\r\n                ? responsive\r\n                  ? \"md:basis-(--field-width)\"\r\n                  : \"basis-(--field-width)\"\r\n                : responsive\r\n                  ? \"md:flex-1 md:w-auto\"\r\n                  : \"flex-1\"\r\n            )}\r\n            style={\r\n              fieldWidth\r\n                ? ({ \"--field-width\": fieldWidth } as React.CSSProperties)\r\n                : undefined\r\n            }\r\n          >\r\n            <FieldRenderer\r\n              field={fieldForRenderer as Field}\r\n              path={nestedPath}\r\n              form={form}\r\n              registry={registry}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function RowFieldSkeleton({ field }: { field: RowFieldType }) {\r\n  const ui = field.ui;\r\n  const responsive = ui?.responsive ?? true;\r\n\r\n  const gapClass = getGapClass(ui?.gap);\r\n\r\n  const gapStyle =\r\n    typeof ui?.gap === \"string\"\r\n      ? ({ \"--row-gap\": ui.gap } as React.CSSProperties)\r\n      : undefined;\r\n\r\n  function getSkeletonHeight(nestedField: Field): string {\r\n    switch (nestedField.type) {\r\n      case \"textarea\":\r\n        return \"h-24\";\r\n      case \"upload\":\r\n        return \"h-32\";\r\n      case \"checkbox\":\r\n      case \"switch\":\r\n        return \"h-5\";\r\n      default:\r\n        return \"h-9\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex w-full\",\r\n        responsive ? \"flex-col md:flex-row\" : \"flex-row\",\r\n        gapStyle ? \"gap-(--row-gap)\" : gapClass\r\n      )}\r\n      style={gapStyle}\r\n    >\r\n      {field.fields.map((nestedField, index) => {\r\n        const nestedFieldName =\r\n          \"name\" in nestedField ? nestedField.name : `row-item-${index}`;\r\n        const itemKey = `skeleton-${nestedField.type}-${nestedFieldName}-${index}`;\r\n\r\n        const fieldWidth = (\r\n          nestedField as Field & { style?: { width?: string } }\r\n        ).style?.width as string | undefined;\r\n\r\n        return (\r\n          <div\r\n            key={itemKey}\r\n            className={cn(\r\n              \"min-w-0\",\r\n              responsive ? \"w-full\" : \"\",\r\n              fieldWidth\r\n                ? responsive\r\n                  ? \"md:basis-(--field-width)\"\r\n                  : \"basis-(--field-width)\"\r\n                : responsive\r\n                  ? \"md:flex-1 md:w-auto\"\r\n                  : \"flex-1\"\r\n            )}\r\n            style={\r\n              fieldWidth\r\n                ? ({ \"--field-width\": fieldWidth } as React.CSSProperties)\r\n                : undefined\r\n            }\r\n          >\r\n            <div className=\"space-y-2\">\r\n              {\"label\" in nestedField && nestedField.label !== false && (\r\n                <Skeleton className=\"h-4 w-20\" />\r\n              )}\r\n              <Skeleton\r\n                className={cn(\r\n                  \"w-full rounded-md\",\r\n                  getSkeletonHeight(nestedField)\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/buzzform/fields/row.tsx"
    }
  ],
  "type": "registry:ui"
}