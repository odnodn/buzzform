{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "switch",
  "title": "SwitchField",
  "description": "A toggle switch field component for BuzzForm. Supports boolean values with horizontal label layout, similar to checkbox but with a switch UI.",
  "dependencies": [
    "@buildnbuzz/buzzform"
  ],
  "registryDependencies": [
    "@buzzform/init",
    "switch",
    "field"
  ],
  "files": [
    {
      "path": "registry/base/fields/switch.tsx",
      "content": "\"use client\";\r\n\r\nimport type {\r\n  SwitchField as SwitchFieldType,\r\n  FormAdapter,\r\n} from \"@buildnbuzz/buzzform\";\r\nimport { getFieldWidthStyle } from \"@buildnbuzz/buzzform\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport {\r\n  Field,\r\n  FieldContent,\r\n  FieldDescription,\r\n  FieldError,\r\n  FieldLabel,\r\n} from \"@/components/ui/field\";\r\n\r\nexport interface SwitchFieldProps {\r\n  field: SwitchFieldType;\r\n  path: string;\r\n  form: FormAdapter;\r\n  autoFocus?: boolean;\r\n  // Computed props\r\n  fieldId: string;\r\n  label: React.ReactNode | null;\r\n  isDisabled: boolean;\r\n  isReadOnly: boolean;\r\n  error?: string;\r\n}\r\n\r\nexport function SwitchField({\r\n  field,\r\n  path,\r\n  form,\r\n  autoFocus,\r\n  fieldId,\r\n  label,\r\n  isDisabled,\r\n  isReadOnly,\r\n  error,\r\n}: SwitchFieldProps) {\r\n  const value = form.watch<boolean>(path) ?? false;\r\n  const hasError = !!error;\r\n\r\n  const alignment = field.ui?.alignment ?? \"between\";\r\n\r\n  const handleChange = (checked: boolean) => {\r\n    if (isReadOnly) return;\r\n    form.setValue(path, checked, {\r\n      shouldDirty: true,\r\n    });\r\n  };\r\n\r\n  const switchElement = (\r\n    <Switch\r\n      id={fieldId}\r\n      checked={value}\r\n      onCheckedChange={handleChange}\r\n      disabled={isDisabled}\r\n      aria-invalid={hasError}\r\n      aria-describedby={\r\n        field.description ? `${fieldId}-description` : undefined\r\n      }\r\n      aria-readonly={isReadOnly}\r\n      autoFocus={autoFocus}\r\n    />\r\n  );\r\n\r\n  const contentElement = (\r\n    <FieldContent className={alignment === \"between\" ? \"flex-1\" : undefined}>\r\n      {label && (\r\n        <FieldLabel\r\n          htmlFor={fieldId}\r\n          className=\"cursor-pointer m-0 font-normal flex-none gap-1 items-baseline\"\r\n        >\r\n          {field.required && <span className=\"text-destructive\">*</span>}\r\n          {label}\r\n        </FieldLabel>\r\n      )}\r\n\r\n      {field.description && (\r\n        <FieldDescription id={`${fieldId}-description`}>\r\n          {field.description}\r\n        </FieldDescription>\r\n      )}\r\n\r\n      {error && <FieldError>{error}</FieldError>}\r\n    </FieldContent>\r\n  );\r\n\r\n  return (\r\n    <Field\r\n      orientation=\"horizontal\"\r\n      className={`${field.style?.className ?? \"\"} ${\r\n        alignment === \"between\" ? \"w-full justify-between\" : \"\"\r\n      }`.trim()}\r\n      data-invalid={hasError}\r\n      data-disabled={isDisabled}\r\n      style={getFieldWidthStyle(field.style)}\r\n    >\r\n      {alignment === \"start\" && (\r\n        <>\r\n          {switchElement}\r\n          {contentElement}\r\n        </>\r\n      )}\r\n      {(alignment === \"end\" || alignment === \"between\") && (\r\n        <>\r\n          {contentElement}\r\n          {switchElement}\r\n        </>\r\n      )}\r\n    </Field>\r\n  );\r\n}\r\n\r\nexport function SwitchFieldSkeleton({ field }: { field: SwitchFieldType }) {\r\n  const label = field.label !== false ? (field.label ?? field.name) : null;\r\n  const alignment = field.ui?.alignment ?? \"between\";\r\n\r\n  const switchSkeleton = (\r\n    <div className=\"h-4.5 w-8 shrink-0 animate-pulse rounded-full bg-muted\" />\r\n  );\r\n\r\n  const contentSkeleton = (\r\n    <FieldContent className={alignment === \"between\" ? \"flex-1\" : undefined}>\r\n      {label && <div className=\"h-4 w-24 animate-pulse rounded bg-muted\" />}\r\n      {field.description && (\r\n        <div className=\"h-3 w-48 animate-pulse rounded bg-muted\" />\r\n      )}\r\n    </FieldContent>\r\n  );\r\n\r\n  return (\r\n    <Field\r\n      orientation=\"horizontal\"\r\n      className={`${field.style?.className ?? \"\"} ${\r\n        alignment === \"between\" ? \"w-full justify-between\" : \"\"\r\n      }`.trim()}\r\n      style={\r\n        field.style?.width\r\n          ? {\r\n              width:\r\n                typeof field.style.width === \"number\"\r\n                  ? `${field.style.width}px`\r\n                  : field.style.width,\r\n            }\r\n          : undefined\r\n      }\r\n    >\r\n      {alignment === \"start\" && (\r\n        <>\r\n          {switchSkeleton}\r\n          {contentSkeleton}\r\n        </>\r\n      )}\r\n      {(alignment === \"end\" || alignment === \"between\") && (\r\n        <>\r\n          {contentSkeleton}\r\n          {switchSkeleton}\r\n        </>\r\n      )}\r\n    </Field>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/buzzform/fields/switch.tsx"
    }
  ],
  "type": "registry:ui"
}