{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "text",
  "title": "TextField",
  "description": "A text input field component for BuzzForm. Supports validation, copy-to-clipboard, and all TextField options.",
  "dependencies": [
    "@buildnbuzz/buzzform"
  ],
  "registryDependencies": [
    "@buzzform/init",
    "input",
    "field",
    "@buzzform/copy"
  ],
  "files": [
    {
      "path": "registry/base/fields/text.tsx",
      "content": "\"use client\";\r\n\r\nimport React from \"react\";\r\nimport type {\r\n  TextField as TextFieldType,\r\n  EmailField as EmailFieldType,\r\n  FormAdapter,\r\n} from \"@buildnbuzz/buzzform\";\r\nimport { getFieldWidthStyle } from \"@buildnbuzz/buzzform\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { CopyButton } from \"@/components/buzzform/copy\";\r\nimport {\r\n  Field,\r\n  FieldContent,\r\n  FieldDescription,\r\n  FieldError,\r\n  FieldLabel,\r\n} from \"@/components/ui/field\";\r\n\r\nexport interface TextFieldProps {\r\n  field: TextFieldType | EmailFieldType;\r\n  path: string;\r\n  form: FormAdapter;\r\n  autoFocus?: boolean;\r\n  formValues: Record<string, unknown>;\r\n  siblingData: Record<string, unknown>;\r\n  // Computed props\r\n  fieldId: string;\r\n  label: string | null;\r\n  isDisabled: boolean;\r\n  isReadOnly: boolean;\r\n  error?: string;\r\n}\r\n\r\nexport function TextField({\r\n  field,\r\n  path,\r\n  form,\r\n  autoFocus,\r\n  fieldId,\r\n  label,\r\n  isDisabled,\r\n  isReadOnly,\r\n  error,\r\n}: TextFieldProps) {\r\n  const value = form.watch<string>(path) ?? \"\";\r\n  const hasError = !!error;\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    form.setValue(path, e.target.value, {\r\n      shouldDirty: true,\r\n    });\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    if (field.trim && typeof value === \"string\") {\r\n      const trimmedValue = value.trim();\r\n      if (trimmedValue !== value) {\r\n        form.setValue(path, trimmedValue, {\r\n          shouldDirty: true,\r\n        });\r\n      }\r\n    }\r\n    form.onBlur?.(path);\r\n  };\r\n\r\n  // Convert pattern to string if it's a RegExp\r\n  const pattern = field.pattern\r\n    ? typeof field.pattern === \"string\"\r\n      ? field.pattern\r\n      : field.pattern.source\r\n    : undefined;\r\n\r\n  return (\r\n    <Field\r\n      className={field.style?.className}\r\n      data-invalid={hasError}\r\n      data-disabled={isDisabled}\r\n      style={getFieldWidthStyle(field.style)}\r\n    >\r\n      {label && (\r\n        <FieldLabel htmlFor={fieldId} className=\"gap-1 items-baseline\">\r\n          {label}\r\n          {field.required && <span className=\"text-destructive\">*</span>}\r\n        </FieldLabel>\r\n      )}\r\n\r\n      <FieldContent>\r\n        <div className=\"relative\">\r\n          <Input\r\n            id={fieldId}\r\n            name={path}\r\n            type={field.type}\r\n            value={value}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            placeholder={field.placeholder}\r\n            disabled={isDisabled}\r\n            readOnly={isReadOnly}\r\n            autoComplete={field.autoComplete}\r\n            aria-invalid={hasError}\r\n            aria-describedby={\r\n              field.description ? `${fieldId}-description` : undefined\r\n            }\r\n            minLength={field.minLength}\r\n            maxLength={field.maxLength}\r\n            pattern={pattern}\r\n            required={field.required}\r\n            autoFocus={autoFocus}\r\n            className={field.ui?.copyable ? \"pr-10\" : \"\"}\r\n          />\r\n          {field.ui?.copyable && value && (\r\n            <CopyButton\r\n              value={value}\r\n              disabled={isDisabled}\r\n              className=\"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground\"\r\n            />\r\n          )}\r\n        </div>\r\n      </FieldContent>\r\n\r\n      {field.description && (\r\n        <FieldDescription id={`${fieldId}-description`}>\r\n          {field.description}\r\n        </FieldDescription>\r\n      )}\r\n\r\n      {error && <FieldError>{error}</FieldError>}\r\n    </Field>\r\n  );\r\n}\r\n\r\nexport function TextFieldSkeleton({\r\n  field,\r\n}: {\r\n  field: TextFieldType | EmailFieldType;\r\n}) {\r\n  const label = field.label !== false ? (field.label ?? field.name) : null;\r\n\r\n  return (\r\n    <Field\r\n      className={field.style?.className}\r\n      style={\r\n        field.style?.width\r\n          ? {\r\n              width:\r\n                typeof field.style.width === \"number\"\r\n                  ? `${field.style.width}px`\r\n                  : field.style.width,\r\n            }\r\n          : undefined\r\n      }\r\n    >\r\n      {label && <div className=\"h-4 w-24 animate-pulse rounded bg-muted\" />}\r\n      <FieldContent>\r\n        <div className=\"h-8 w-full animate-pulse rounded-lg bg-muted\" />\r\n      </FieldContent>\r\n      {field.description && (\r\n        <div className=\"h-3 w-48 animate-pulse rounded bg-muted\" />\r\n      )}\r\n    </Field>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/buzzform/fields/text.tsx"
    }
  ],
  "type": "registry:ui"
}